"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[201],{47389:function(Me,se,i){var Q=i(1413),j=i(67294),re=i(27363),K=i(91146),le=function(h,E){return j.createElement(K.Z,(0,Q.Z)((0,Q.Z)({},h),{},{ref:E,icon:re.Z}))},D=j.forwardRef(le);se.Z=D},5785:function(Me,se,i){var Q=i(1413),j=i(67294),re=i(44685),K=i(91146),le=function(h,E){return j.createElement(K.Z,(0,Q.Z)((0,Q.Z)({},h),{},{ref:E,icon:re.Z}))},D=j.forwardRef(le);se.Z=D},94149:function(Me,se,i){i.d(se,{Z:function(){return h}});var Q=i(1413),j=i(67294),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},K=re,le=i(91146),D=function(oe,pe){return j.createElement(le.Z,(0,Q.Z)((0,Q.Z)({},oe),{},{ref:pe,icon:K}))},me=j.forwardRef(D),h=me},88360:function(Me,se,i){i.d(se,{Z:function(){return h}});var Q=i(1413),j=i(67294),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},K=re,le=i(91146),D=function(oe,pe){return j.createElement(le.Z,(0,Q.Z)((0,Q.Z)({},oe),{},{ref:pe,icon:K}))},me=j.forwardRef(D),h=me},55876:function(Me,se,i){i.r(se),i.d(se,{default:function(){return La}});var Q=i(15009),j=i.n(Q),re=i(97857),K=i.n(re),le=i(99289),D=i.n(le),me=i(5574),h=i.n(me),E=i(66927),oe=i(16568),pe=i(86738),B=i(83622),ze=i(82061),d=i(67294),ue=i(94272),e=i(85893),Ne=function(p){var g=p.record,r=p.onSuccess,C=(0,d.useState)(!1),t=h()(C,2),s=t[0],w=t[1],N=(0,d.useState)(!1),V=h()(N,2),H=V[0],U=V[1],S=oe.ZP.useNotification(),F=h()(S,2),R=F[0],$=F[1],T=(0,ue.useIntl)(),A=function(){w(!0)},z=function(){var P=D()(j()().mark(function b(){var Z;return j()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return U(!0),f.prev=1,f.next=4,(0,E.tm)(g.id);case 4:Z=f.sent,w(!1),Z.success?(R.success({message:"success",description:T.formatMessage({id:"pages.account.deleteSuccess"})}),r()):R.error({message:"error",description:Z.message}),f.next=12;break;case 9:f.prev=9,f.t0=f.catch(1),console.error(f.t0);case 12:return f.prev=12,U(!1),f.finish(12);case 15:case"end":return f.stop()}},b,null,[[1,9,12,15]])}));return function(){return P.apply(this,arguments)}}(),W=function(){w(!1)};return(0,e.jsxs)(pe.Z,{title:T.formatMessage({id:"pages.account.delete"}),description:T.formatMessage({id:"pages.account.deleteTitle"}),open:s,onConfirm:z,okButtonProps:{loading:H},onCancel:W,children:[$,(0,e.jsx)(B.ZP,{danger:!0,icon:(0,e.jsx)(ze.Z,{}),onClick:A})]})},Ve=Ne,q=i(1413),He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},$e=He,xe=i(91146),Je=function(p,g){return d.createElement(xe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:$e}))},Ye=d.forwardRef(Je),Ae=Ye,We=function(p){var g=p.record,r=p.onSuccess,C=(0,d.useState)(!1),t=h()(C,2),s=t[0],w=t[1],N=(0,d.useState)(!1),V=h()(N,2),H=V[0],U=V[1],S=oe.ZP.useNotification(),F=h()(S,2),R=F[0],$=F[1],T=(0,ue.useIntl)(),A=function(){w(!0)},z=function(){var P=D()(j()().mark(function b(){var Z;return j()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return U(!0),f.prev=1,f.next=4,(0,E.Je)(g.id);case 4:Z=f.sent,console.log("resss",Z),w(!1),Z.success?(R.success({message:"success",description:T.formatMessage({id:"pages.account.syncSuccess"})}),r()):(R.error({message:"error",description:Z.message}),r()),f.next=13;break;case 10:f.prev=10,f.t0=f.catch(1),console.error(f.t0);case 13:return f.prev=13,U(!1),f.finish(13);case 16:case"end":return f.stop()}},b,null,[[1,10,13,16]])}));return function(){return P.apply(this,arguments)}}(),W=function(){w(!1)};return(0,e.jsxs)(pe.Z,{title:T.formatMessage({id:"pages.account.sync"}),description:T.formatMessage({id:"pages.account.syncTitle"}),open:s,onConfirm:z,okButtonProps:{loading:H},onCancel:W,children:[$,(0,e.jsx)(B.ZP,{icon:(0,e.jsx)(Ae,{}),onClick:A})]})},Ke=We,a=i(53025),be=i(71230),ce=i(15746),X=i(4393),m=i(55102),I=i(72269),L=i(74656),O=i(37804),je=i(42075),Ie=i(28248),Ce=i(40056),ke=i(5785),Xe=function(p){var g=p.form,r=p.onSubmit,C=p.r,t=(0,ue.useIntl)();(0,d.useEffect)(function(){var b=localStorage.getItem("account_cache");if(b)try{g.setFieldsValue(JSON.parse(b))}catch(Z){g.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})}else g.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})},[C]);var s=(0,d.useState)([]),w=h()(s,2),N=w[0],V=w[1];(0,d.useEffect)(function(){(0,E.fl)().then(function(b){b.success&&V(b.data)})},[]);var H=(0,d.useState)(!1),U=h()(H,2),S=U[0],F=U[1],R=(0,d.useState)(""),$=h()(R,2),T=$[0],A=$[1],z=function(){F(!0)},W=function(){g.setFieldsValue({subChannels:T.split(`
`)}),F(!1)},P=function(){F(!1)};return(0,e.jsxs)(a.Z,{form:g,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[(0,e.jsxs)(be.Z,{gutter:16,children:[(0,e.jsx)(ce.Z,{span:8,children:(0,e.jsxs)(X.Z,{type:"inner",title:t.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.userToken"}),name:"userToken",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableFastToRelax"}),name:"enableFastToRelax",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableFastToRelaxTips"}),children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableRelaxToFast"}),name:"enableRelaxToFast",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableRelaxToFastTips"}),children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(L.Z,{allowClear:!0,children:[(0,e.jsx)(L.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(L.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(L.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",children:(0,e.jsxs)(L.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(L.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(L.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(L.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableAutoSetRelax"}),name:"enableAutoSetRelax",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableAutoSetRelaxTips"}),children:(0,e.jsx)(I.Z,{})})]})}),(0,e.jsx)(ce.Z,{span:8,children:(0,e.jsxs)(X.Z,{type:"inner",title:t.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(O.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(je.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(O.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(O.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(O.Z,{min:-1})})]})}),(0,e.jsx)(ce.Z,{span:8,children:(0,e.jsxs)(X.Z,{type:"inner",title:t.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(L.Z,{options:N,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(O.Z,{min:1,suffix:t.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(m.Z.TextArea,{autoSize:{minRows:1,maxRows:6}})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(m.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.fishingTime"}),help:t.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(m.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)(B.ZP,{type:"primary",onClick:function(){A(g.getFieldValue("subChannels").join(`
`)),z()},icon:(0,e.jsx)(ke.Z,{})}),children:(0,e.jsx)(m.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:1}})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.loginAccount"}),name:"loginAccount",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.loginPassword"}),name:"loginPassword",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.login2fa"}),name:"login2fa",children:(0,e.jsx)(m.Z,{})})]})})]}),(0,e.jsxs)(Ie.Z,{title:t.formatMessage({id:"pages.account.subChannels"}),visible:S,onOk:W,onCancel:P,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Ce.Z,{message:t.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(m.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:T,onChange:function(Z){A(Z.target.value)}})]})]})},Fe=Xe,Ge=function(p){var g=p.form,r=p.onSubmit,C=p.record,t=(0,ue.useIntl)(),s=oe.ZP.useNotification(),w=h()(s,2),N=w[0],V=w[1],H=(0,d.useState)(),U=h()(H,2),S=U[0],F=U[1],R=(0,d.useState)(!1),$=h()(R,2),T=$[0],A=$[1];(0,d.useEffect)(function(){F(C)},[]);var z=function(){var P=D()(j()().mark(function b(){var Z;return j()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return A(!0),f.next=3,(0,E.qG)(C.id);case 3:Z=f.sent,A(!1),Z.success&&F(Z.data);case 6:case"end":return f.stop()}},b)}));return function(){return P.apply(this,arguments)}}(),W=function(){var P=D()(j()().mark(function b(){var Z;return j()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return A(!0),f.next=3,(0,E.eD)(C.id);case 3:Z=f.sent,A(!1),Z.success&&(N.success({message:"success",description:"Success"}),r(S));case 6:case"end":return f.stop()}},b)}));return function(){return P.apply(this,arguments)}}();return(0,e.jsxs)(a.Z,{form:g,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[V,(0,e.jsx)(be.Z,{gutter:16,children:(0,e.jsxs)(ce.Z,{span:24,style:{padding:12},children:[S&&(0,e.jsx)("a",{target:"_blank",rel:"noreferrer",href:S==null?void 0:S.cfUrl,children:(S==null?void 0:S.cfUrl)||"-"}),(0,e.jsx)("br",{}),(0,e.jsxs)(je.Z,{style:{marginTop:12},children:[(0,e.jsx)(B.ZP,{onClick:z,loading:T,type:"default",children:t.formatMessage({id:"pages.account.cfRefresh"})}),(0,e.jsx)(B.ZP,{onClick:W,loading:T,type:"primary",children:t.formatMessage({id:"pages.account.cfok"})})]})]})})]})},Qe=Ge,ge=i(66309),Ze=i(83062),M=i(26412),qe=i(27484),Be=i.n(qe),_e=L.Z.Option,ea=function(p){var g,r=p.record,C=p.onSuccess,t=oe.ZP.useNotification(),s=h()(t,2),w=s[0],N=s[1],V=(0,d.useState)(""),H=h()(V,2),U=H[0],S=H[1],F=(0,d.useState)([]),R=h()(F,2),$=R[0],T=R[1],A=(0,d.useState)([]),z=h()(A,2),W=z[0],P=z[1],b=(0,d.useState)(!1),Z=h()(b,2),J=Z[0],f=Z[1],Se=(0,d.useState)(""),_=h()(Se,2),ve=_[0],ye=_[1],we=(0,d.useState)(!1),Oe=h()(we,2),ne=Oe[0],v=Oe[1],Re=(0,d.useState)(!1),ae=h()(Re,2),de=ae[0],Te=ae[1],l=(0,ue.useIntl)();(0,d.useEffect)(function(){S(r.version),T(r.buttons),P(r.nijiButtons)},[r]);var fe=function(c,u,k){var Y=c?"green":"volcano",ee=c?u:k;return(0,e.jsx)(ge.Z,{color:Y,children:ee})},he=function(c){return!c||c.length<25?c:(0,e.jsx)(Ze.Z,{title:c,children:c.substring(0,25)+"..."})},De=function(c){return Be()(c).format("YYYY-MM-DD HH:mm")},Ee=function(){var c;return(c=r.versionSelector)===null||c===void 0?void 0:c.map(function(u){return(0,e.jsxs)(_e,{value:u.customId,children:[u.emoji," ",u.label]},u.customId)})},Le=function(){return $.map(function(c){return(0,e.jsxs)(B.ZP,{ghost:!0,style:{backgroundColor:c.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){x("MID_JOURNEY",c.customId)},loading:ve=="MID_JOURNEY:"+c.customId,children:[c.emoji," ",c.label]},"MID_JOURNEY:"+c.customId)})},Pe=function(){return W.map(function(c){return(0,e.jsxs)(B.ZP,{ghost:!0,style:{backgroundColor:c.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){x("NIJI_JOURNEY",c.customId)},loading:ve=="NIJI_JOURNEY:"+c.customId,children:[c.emoji," ",c.label]},"NIJI_JOURNEY:"+c.customId)})},y=function(){var o=D()(j()().mark(function c(u){var k;return j()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return S(u),f(!0),ee.next=4,(0,E.p3)(r.id,u);case 4:k=ee.sent,k.success?(f(!1),w.success({message:"success",description:l.formatMessage({id:"pages.account.mjVersionSuccess"})}),C()):(S(r.version),f(!1),w.error({message:"error",description:k.message}));case 6:case"end":return ee.stop()}},c)}));return function(u){return o.apply(this,arguments)}}(),x=function(){var o=D()(j()().mark(function c(u,k){var Y;return j()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(ve===""){te.next=2;break}return te.abrupt("return");case 2:return ye(u+":"+k),te.next=5,(0,E.wO)(r.id,u,k);case 5:Y=te.sent,ye(""),Y.success?C():w.error({message:"error",description:Y.message});case 8:case"end":return te.stop()}},c)}));return function(u,k){return o.apply(this,arguments)}}(),n=function(){var o=D()(j()().mark(function c(u,k){var Y,ee,te;return j()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.prev=0,Y=u==="MID_JOURNEY"?v:Te,Y(!0),ie.next=5,(0,E.cJ)(r.id,k,u);case 5:ee=ie.sent,Y(!1),ee.success?(w.success({message:"success",description:l.formatMessage({id:k?"pages.account.remixModeEnabled":"pages.account.remixModeDisabled"},{botType:u==="MID_JOURNEY"?"MJ":"Niji"})}),C()):w.error({message:"error",description:ee.message}),ie.next=15;break;case 10:ie.prev=10,ie.t0=ie.catch(0),te=u==="MID_JOURNEY"?v:Te,te(!1),w.error({message:"error",description:l.formatMessage({id:"pages.account.remixModeToggleError"})});case 15:case"end":return ie.stop()}},c,null,[[0,10]])}));return function(u,k){return o.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[N,(0,e.jsx)(X.Z,{type:"inner",title:l.formatMessage({id:"pages.account.info"}),style:{margin:"5px"},children:(0,e.jsxs)(M.Z,{column:3,children:[(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.guildId"}),children:r.guildId}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.channelId"}),children:r.channelId}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.userToken"}),children:he(r.userToken)}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.botToken"}),children:he(r.botToken)}),(0,e.jsxs)(M.Z.Item,{label:"User Agent",children:[he(r.userAgent)," "]}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.remixAutoSubmit"}),children:fe(r.remixAutoSubmit,l.formatMessage({id:"pages.yes"}),l.formatMessage({id:"pages.no"}))}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.mjChannelId"}),children:r.privateChannelId}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.nijiChannelId"}),children:r.nijiBotChannelId})]})}),(0,e.jsx)(X.Z,{type:"inner",title:l.formatMessage({id:"pages.account.basicInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(M.Z,{column:3,children:[(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.status"}),children:fe(r.enable,l.formatMessage({id:"pages.enable"}),l.formatMessage({id:"pages.disable"}))}),(0,e.jsxs)(M.Z.Item,{label:l.formatMessage({id:"pages.account.mjRemixMode"}),children:[fe(r.mjRemixOn,l.formatMessage({id:"pages.enable"}),l.formatMessage({id:"pages.disable"})),(0,e.jsx)(B.ZP,{type:"primary",size:"small",loading:ne,style:{marginLeft:"8px"},onClick:function(){return n("MID_JOURNEY",!r.mjRemixOn)},children:r.mjRemixOn?l.formatMessage({id:"pages.disable"}):l.formatMessage({id:"pages.enable"})})]}),(0,e.jsxs)(M.Z.Item,{label:l.formatMessage({id:"pages.account.nijiRemixMode"}),children:[fe(r.nijiRemixOn,l.formatMessage({id:"pages.enable"}),l.formatMessage({id:"pages.disable"})),(0,e.jsx)(B.ZP,{type:"primary",size:"small",loading:de,style:{marginLeft:"8px"},onClick:function(){return n("NIJI_JOURNEY",!r.nijiRemixOn)},children:r.nijiRemixOn?l.formatMessage({id:"pages.disable"}):l.formatMessage({id:"pages.enable"})})]}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.mjMode"}),children:r.displays.mode}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.nijiMode"}),children:r.displays.nijiMode}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.subscribePlan"}),children:r.displays.subscribePlan}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.billedWay"}),children:r.displays.billedWay}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.renewDate"}),children:r.displays.renewDate}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.fastTimeRemaining"}),children:r.fastTimeRemaining}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.relaxedUsage"}),children:r.relaxedUsage}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.fastUsage"}),children:r.fastUsage}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.turboUsage"}),children:r.turboUsage}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.lifetimeUsage"}),children:r.lifetimeUsage})]})}),(0,e.jsx)(X.Z,{type:"inner",title:l.formatMessage({id:"pages.account.otherInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(M.Z,{column:3,children:[(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.coreSize"}),children:r.coreSize}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.queueSize"}),children:r.queueSize}),(0,e.jsxs)(M.Z.Item,{label:l.formatMessage({id:"pages.account.timeoutMinutes"}),children:[r.timeoutMinutes," ",l.formatMessage({id:"pages.minutes"})]}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.weight"}),children:r.weight}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.dateCreated"}),children:De(r.dateCreated)}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.remark"}),children:he(r.remark)}),(0,e.jsx)(M.Z.Item,{label:l.formatMessage({id:"pages.account.disabledReason"}),children:he(r.disabledReason)})]})}),(0,e.jsxs)(X.Z,{type:"inner",title:l.formatMessage({id:"pages.account.mjSettings"}),style:{margin:"5px"},children:[(0,e.jsx)(L.Z,{style:{width:"35%"},placeholder:(g=r.versionSelector)===null||g===void 0?void 0:g.placeholder,value:U,onChange:y,loading:J,children:Ee()}),(0,e.jsx)(je.Z,{wrap:!0,style:{marginTop:"5px"},children:Le()})]}),(0,e.jsx)(X.Z,{type:"inner",title:l.formatMessage({id:"pages.account.nijiSettings"}),style:{margin:"5px"},children:(0,e.jsx)(je.Z,{wrap:!0,style:{marginTop:"5px"},children:Pe()})})]})},aa=ea,sa=function(p){var g=p.form,r=p.onSubmit,C=p.record,t=p.r,s=(0,ue.useIntl)();(0,d.useEffect)(function(){g.setFieldsValue(C)},[]),(0,d.useEffect)(function(){g.setFieldsValue(C)},[t]);var w=(0,d.useState)([]),N=h()(w,2),V=N[0],H=N[1];(0,d.useEffect)(function(){(0,E.fl)().then(function(Z){Z.success&&H(Z.data)})},[]);var U=(0,d.useState)(!1),S=h()(U,2),F=S[0],R=S[1],$=(0,d.useState)(""),T=h()($,2),A=T[0],z=T[1],W=function(){R(!0)},P=function(){C.subChannels=A.split(`
`),g.setFieldsValue({subChannels:A.split(`
`)}),R(!1)},b=function(){R(!1)};return(0,e.jsxs)(a.Z,{form:g,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[(0,e.jsxs)(be.Z,{gutter:16,children:[(0,e.jsx)(ce.Z,{span:8,children:(0,e.jsxs)(X.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(m.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(m.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableFastToRelax"}),name:"enableFastToRelax",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableFastToRelaxTips"}),children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableRelaxToFast"}),name:"enableRelaxToFast",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableRelaxToFastTips"}),children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(L.Z,{allowClear:!0,children:[(0,e.jsx)(L.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(L.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(L.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",tooltip:"\u5982\u679C\u7528\u6237\u6307\u5B9A\u6A21\u5F0F\u6216\u6DFB\u52A0\u4E86\u81EA\u5B9A\u4E49\u53C2\u6570\u4F8B\u5982 --fast\uFF0C\u4F46\u662F\u8D26\u53F7\u4E0D\u5141\u8BB8 FAST\uFF0C\u5219\u81EA\u52A8\u79FB\u9664\u6B64\u53C2\u6570",children:(0,e.jsxs)(L.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(L.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(L.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(L.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableAutoSetRelax"}),name:"enableAutoSetRelax",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableAutoSetRelaxTips"}),children:(0,e.jsx)(I.Z,{})})]})}),(0,e.jsx)(ce.Z,{span:8,children:(0,e.jsxs)(X.Z,{type:"inner",title:s.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(O.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(je.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(O.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(O.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:C.dayDrawCount>0&&(0,e.jsxs)("span",{children:[s.formatMessage({id:"pages.account.dayDrawCount"})," ",C.dayDrawCount]}),children:(0,e.jsx)(O.Z,{min:-1})})]})}),(0,e.jsx)(ce.Z,{span:8,children:(0,e.jsxs)(X.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(L.Z,{options:V,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(O.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(m.Z.TextArea,{autoSize:{minRows:1,maxRows:6}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(m.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.fishingTime"}),help:s.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(m.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)(B.ZP,{type:"primary",onClick:function(){z(g.getFieldValue("subChannels").join(`
`)),W()},icon:(0,e.jsx)(ke.Z,{})}),children:(0,e.jsx)(m.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:1}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginAccount"}),name:"loginAccount",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginPassword"}),name:"loginPassword",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.login2fa"}),name:"login2fa",children:(0,e.jsx)(m.Z,{})})]})})]}),(0,e.jsxs)(Ie.Z,{title:s.formatMessage({id:"pages.account.subChannels"}),visible:F,onOk:P,onCancel:b,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Ce.Z,{message:s.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(m.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:A,onChange:function(J){z(J.target.value)}})]}),(0,e.jsx)(Ce.Z,{message:s.formatMessage({id:"pages.account.updateNotice"}),type:"warning",style:{marginTop:"10px"}})]})},na=sa,ta=function(p){var g=p.form,r=p.onSubmit,C=p.record,t=p.r,s=(0,ue.useIntl)();(0,d.useEffect)(function(){g.setFieldsValue(C)},[]),(0,d.useEffect)(function(){g.setFieldsValue(C)},[t]);var w=(0,d.useState)([]),N=h()(w,2),V=N[0],H=N[1];(0,d.useEffect)(function(){(0,E.fl)().then(function(Z){Z.success&&H(Z.data)})},[]);var U=(0,d.useState)(!1),S=h()(U,2),F=S[0],R=S[1],$=(0,d.useState)(""),T=h()($,2),A=T[0],z=T[1],W=function(){R(!0)},P=function(){C.subChannels=A.split(`
`),g.setFieldsValue({subChannels:A.split(`
`)}),R(!1)},b=function(){R(!1)};return(0,e.jsxs)(a.Z,{form:g,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[(0,e.jsxs)(be.Z,{gutter:16,children:[(0,e.jsx)(ce.Z,{span:12,children:(0,e.jsxs)(X.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:C.dayDrawCount>0&&(0,e.jsxs)("span",{children:[s.formatMessage({id:"pages.account.dayDrawCount"})," ",C.dayDrawCount]}),children:(0,e.jsx)(O.Z,{min:-1})})]})}),(0,e.jsx)(ce.Z,{span:12,children:(0,e.jsxs)(X.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(L.Z,{options:V,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(O.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(O.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(m.Z.TextArea,{autoSize:{minRows:1,maxRows:6}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)(B.ZP,{type:"primary",onClick:function(){z(g.getFieldValue("subChannels").join(`
`)),W()},icon:(0,e.jsx)(ke.Z,{})}),children:(0,e.jsx)(m.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:1}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginAccount"}),name:"loginAccount",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginPassword"}),name:"loginPassword",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.login2fa"}),name:"login2fa",children:(0,e.jsx)(m.Z,{})})]})})]}),(0,e.jsxs)(Ie.Z,{title:s.formatMessage({id:"pages.account.subChannels"}),visible:F,onOk:P,onCancel:b,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Ce.Z,{message:s.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(m.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:A,onChange:function(J){z(J.target.value)}})]})]})},ia=ta,ra=i(94149),la=i(99011),oa=function(p,g){return d.createElement(xe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:la.Z}))},ca=d.forwardRef(oa),ua=ca,da={icon:function(p,g){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z",fill:p}},{tag:"path",attrs:{d:"M679.7 201c-73.1 0-136.5 40.8-167.7 100.4C480.8 241.8 417.4 201 344.3 201c-104 0-188.3 82.6-188.3 184.5 0 201.2 356 429.3 356 429.3s356-228.1 356-429.3C868 283.6 783.7 201 679.7 201z",fill:g}}]}},name:"heart",theme:"twotone"},ma=da,ga=function(p,g){return d.createElement(xe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:ma}))},fa=d.forwardRef(ga),Ue=fa,ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"},pa=ha,xa=function(p,g){return d.createElement(xe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:pa}))},ja=d.forwardRef(xa),Za=ja,va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},Ma=va,ba=function(p,g){return d.createElement(xe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:Ma}))},Ia=d.forwardRef(ba),Ca=Ia,Sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"},ya=Sa,wa=function(p,g){return d.createElement(xe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:ya}))},Oa=d.forwardRef(wa),Ra=Oa,Ta=i(47389),Aa=i(88360),ka=i(90930),Da=i(51967),Ea=function(){var p=(0,d.useState)(!1),g=h()(p,2),r=g[0],C=g[1],t=(0,d.useState)(!1),s=h()(t,2),w=s[0],N=s[1],V=(0,d.useState)((0,e.jsx)(e.Fragment,{})),H=h()(V,2),U=H[0],S=H[1],F=(0,d.useState)(""),R=h()(F,2),$=R[0],T=R[1],A=(0,d.useState)(1e3),z=h()(A,2),W=z[0],P=z[1],b=a.Z.useForm(),Z=h()(b,1),J=Z[0],f=oe.ZP.useNotification(),Se=h()(f,2),_=Se[0],ve=Se[1],ye=(0,d.useState)(!1),we=h()(ye,2),Oe=we[0],ne=we[1],v=(0,ue.useIntl)(),Re=(0,d.useRef)(),ae=function(){S((0,e.jsx)(e.Fragment,{})),C(!1),N(!1)},de=function(x,n,o){J.resetFields(),T(x),S(n),P(o),C(!0)},Te=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.ZP,{onClick:ae,children:v.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)(B.ZP,{type:"primary",loading:Oe,onClick:function(){return J.submit()},children:v.formatMessage({id:"pages.submit"})},"submit")]}),l=function(){var x;ae(),(x=Re.current)===null||x===void 0||x.reload()},fe=function(){var y=D()(j()().mark(function x(n){var o,c;return j()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),ne(!0),k.next=6,(0,E.o1)(n);case 6:o=k.sent,o.success?(c=K()(K()({},n),{},{id:"",userToken:"",botToken:"",subChannels:[],remark:"",channelId:"",privateChannelId:"",nijiBotChannelId:"",guildId:"",loginAccount:"",loginPassword:"",login2fa:""}),localStorage.setItem("account_cache",JSON.stringify(c)),_.success({message:"success",description:o.message}),ae(),l()):_.error({message:"error",description:o.message});case 8:return k.prev=8,ne(!1),k.finish(8);case 11:case"end":return k.stop()}},x,null,[[0,,8,11]])}));return function(n){return y.apply(this,arguments)}}(),he=function(){var y=D()(j()().mark(function x(n){var o;return j()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!(!n.loginAccount||!n.loginPassword||!n.login2fa)){u.next=4;break}return _.error({message:"error",description:v.formatMessage({id:"pages.account.loginAccountGetTokenError"})}),u.abrupt("return");case 4:return u.next=6,(0,E.uq)(n.id);case 6:o=u.sent,o.success?(_.success({message:"success",description:o.message}),ae(),l()):_.error({message:"error",description:o.message});case 8:return u.prev=8,u.finish(8);case 10:case"end":return u.stop()}},x,null,[[0,,8,10]])}));return function(n){return y.apply(this,arguments)}}(),De=function(){var y=D()(j()().mark(function x(n){var o;return j()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n.subChannels||(n.subChannels=[]),u.prev=1,typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),ne(!0),u.next=6,(0,E.MS)(n.id,n);case 6:o=u.sent,o.success?(_.success({message:"success",description:o.message}),ae(),l()):_.error({message:"error",description:o.message});case 8:return u.prev=8,ne(!1),u.finish(8);case 11:case"end":return u.stop()}},x,null,[[1,,8,11]])}));return function(n){return y.apply(this,arguments)}}(),Ee=function(){var y=D()(j()().mark(function x(n){var o;return j()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),ne(!0),u.next=6,(0,E.Vx)(n.id,n);case 6:o=u.sent,o.success?_.success({message:"success",description:o.message}):_.error({message:"error",description:o.message}),ae(),l();case 10:return u.prev=10,ne(!1),u.finish(10);case 13:case"end":return u.stop()}},x,null,[[0,,10,13]])}));return function(n){return y.apply(this,arguments)}}(),Le=function(){var y=D()(j()().mark(function x(){return j()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:try{ne(!0),ae(),l()}finally{ne(!1)}case 1:case"end":return o.stop()}},x)}));return function(){return y.apply(this,arguments)}}(),Pe=[{title:v.formatMessage({id:"pages.account.guildId"}),dataIndex:"guildId",width:200,align:"center",sorter:!0,render:function(x,n){return(0,e.jsx)("a",{onClick:function(){N(!0),de(v.formatMessage({id:"pages.account.info"})+" - "+n.id,(0,e.jsx)(aa,{record:n,onSuccess:l}),1100)},children:x})}},{title:v.formatMessage({id:"pages.account.channelId"}),dataIndex:"channelId",align:"center",width:200,sorter:!0},{title:"".concat(v.formatMessage({id:"pages.account.status"})),dataIndex:"enable",width:200,align:"center",sorter:!0,request:function(){var y=D()(j()().mark(function n(){return j()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",[{label:v.formatMessage({id:"pages.enable"}),value:!0},{label:v.formatMessage({id:"pages.disable"}),value:!1}]);case 1:case"end":return c.stop()}},n)}));function x(){return y.apply(this,arguments)}return x}(),render:function(x,n){var o=x?"green":"volcano",c=x?v.formatMessage({id:"pages.enable"}):v.formatMessage({id:"pages.disable"});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ge.Z,{color:o,children:c}),n.isAutoLogining&&(0,e.jsx)(ge.Z,{color:"orange",children:v.formatMessage({id:"pages.account.isAutoLogining"})}),n.lock&&(0,e.jsx)(ge.Z,{icon:(0,e.jsx)(ra.Z,{}),color:"warning",children:(0,e.jsx)(Ze.Z,{title:v.formatMessage({id:"pages.account.lockmsg"}),children:v.formatMessage({id:"pages.account.lock"})})}),x&&!n.running&&!n.lock&&(0,e.jsx)(ge.Z,{icon:(0,e.jsx)(Ae,{}),color:"error",children:v.formatMessage({id:"pages.account.notRunning"})}),(n==null?void 0:n.runningCount)>0&&(0,e.jsx)(ge.Z,{icon:(0,e.jsx)(Ae,{spin:!0}),color:"cyan",children:(0,e.jsx)(Ze.Z,{title:v.formatMessage({id:"pages.account.runningCount"})+" "+n.runningCount,children:(n==null?void 0:n.runningCount)||0})}),(n==null?void 0:n.queueCount)>0&&(0,e.jsx)(ge.Z,{icon:(0,e.jsx)(ua,{}),color:"processing",children:(0,e.jsx)(Ze.Z,{title:v.formatMessage({id:"pages.account.queueCount"})+" "+n.queueCount,children:n.queueCount||0})})]})}},{title:v.formatMessage({id:"pages.account.fastTimeRemaining"}),dataIndex:"fastTimeRemaining",ellipsis:!0,width:200,hideInSearch:!0,align:"center"},{title:v.formatMessage({id:"pages.account.allowModes"}),dataIndex:"allowModes",align:"center",width:160,hideInSearch:!0,render:function(x,n){var o;return((o=n.allowModes)===null||o===void 0?void 0:o.join("\u3001"))||"ALL"}},{title:v.formatMessage({id:"pages.account.renewDate"}),dataIndex:"renewDate",align:"center",width:160,hideInSearch:!0,render:function(x,n){return n.displays.renewDate}},{title:v.formatMessage({id:"pages.account.sponsor"}),dataIndex:"sponsor",ellipsis:!0,width:100,sorter:!0,render:function(x,n){return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n.sponsorUserId&&(0,e.jsx)(Ue,{twoToneColor:"#eb2f96",style:{marginRight:2}}),(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:n.sponsor||"-"}})]})}},{title:v.formatMessage({id:"pages.account.remark"}),dataIndex:"remark",ellipsis:!0,sorter:!0,width:150},{title:v.formatMessage({id:"pages.account.disabledReason"}),dataIndex:"disabledReason",ellipsis:!0,width:150,hideInSearch:!0},{title:v.formatMessage({id:"pages.account.dateCreated"}),dataIndex:"dateCreated",ellipsis:!0,width:140,sorter:!0,hideInSearch:!0,renderText:function(x,n){return Be()(x).format("YYYY-MM-DD HH:mm")}},{title:v.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:220,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(x,n){return(0,e.jsxs)(je.Z,{children:[(0,e.jsx)(Ze.Z,{title:v.formatMessage({id:"pages.account.loginAccountGetToken"}),children:(0,e.jsx)(B.ZP,{icon:(0,e.jsx)(Za,{}),type:"dashed",onClick:function(){return he(n)}},"login")}),n.lock&&(0,e.jsx)(B.ZP,{icon:(0,e.jsx)(Ca,{}),type:"dashed",onClick:function(){return de(v.formatMessage({id:"pages.account.cfmodal"}),(0,e.jsx)(Qe,{form:J,record:n,onSubmit:Le}),1e3)}},"Lock"),(0,e.jsx)(Ke,{record:n,onSuccess:l}),(0,e.jsx)(Ze.Z,{title:v.formatMessage({id:"pages.account.updateAndReconnect"}),children:(0,e.jsx)(B.ZP,{type:"primary",icon:(0,e.jsx)(Ra,{}),onClick:function(){de(v.formatMessage({id:"pages.account.updateAndReconnect"}),(0,e.jsx)(na,{r:Math.random(),form:J,record:n,onSubmit:De}),1600)}},"EditAndReconnect")}),(0,e.jsx)(B.ZP,{icon:(0,e.jsx)(Ta.Z,{}),onClick:function(){return de(v.formatMessage({id:"pages.account.update"}),(0,e.jsx)(ia,{r:Math.random(),form:J,record:n,onSubmit:Ee}),1e3)}},"Update"),(0,e.jsx)(Ve,{record:n,onSuccess:l})]})}}];return(0,d.useEffect)(function(){},[]),(0,e.jsxs)(ka._z,{children:[ve,(0,e.jsx)(X.Z,{children:(0,e.jsx)(Da.Z,{columns:Pe,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:Re,toolBarRender:function(){return[(0,e.jsx)(B.ZP,{type:"dashed",icon:(0,e.jsx)(Ue,{twoToneColor:"#eb2f96"}),onClick:function(){de(v.formatMessage({id:"pages.account.sponsorAccountTitle"}),(0,e.jsx)(Fe,{r:Math.random(),form:J,onSubmit:function(o){return fe(K()(K()({},o),{},{isSponsor:!0}))}}),1600)},children:v.formatMessage({id:"pages.account.sponsorAccount"})},"sponsor"),(0,e.jsx)(B.ZP,{type:"primary",icon:(0,e.jsx)(Aa.Z,{}),onClick:function(){de(v.formatMessage({id:"pages.account.add"}),(0,e.jsx)(Fe,{r:Math.random(),form:J,onSubmit:fe}),1600)},children:v.formatMessage({id:"pages.add"})},"primary")]},request:function(){var y=D()(j()().mark(function x(n,o){var c,u;return j()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return c=Object.keys(o),Y.next=3,(0,E.fH)(K()(K()({},n),{},{pageNumber:n.current-1}),c.length>0?c[0]:"",(c.length>0?o[c[0]]:"")=="descend");case 3:return u=Y.sent,Y.abrupt("return",{data:u.list,total:u.pagination.total,success:!0});case 5:case"end":return Y.stop()}},x)}));return function(x,n){return y.apply(this,arguments)}}()})}),(0,e.jsx)(Ie.Z,{title:$,open:r,onCancel:ae,footer:w?null:Te,width:W,children:U})]})},La=Ea}}]);
